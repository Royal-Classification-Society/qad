<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RCS | Quick Access Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        .glass-card { background: white; transition: all 0.2s ease-in-out; border: 1px solid #e2e8f0; }
        .glass-card:hover { transform: translateY(-4px); box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.05); border-color: #0f172a; }
        .rcs-dark { background-color: #0f172a; }
        .clock-label { font-size: 0.65rem; text-transform: uppercase; color: #94a3b8; }
        .clock-time { font-family: 'Courier New', monospace; font-weight: 600; }
        .search-input { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s ease; }
        .search-input:focus { background: white; color: #0f172a; outline: none; }
        #nexus-modal { display: none; position: fixed; inset: 0; background: rgba(15, 23, 42, 0.9); z-index: 100; align-items: center; justify-content: center; }
        #announcement-list::-webkit-scrollbar { width: 4px; }
        #announcement-list::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="min-h-screen pb-12">

    <div id="nexus-modal">
        <div class="bg-white p-8 rounded-2xl shadow-2xl w-80 text-center">
            <div class="mx-auto mb-4 text-blue-600 flex justify-center">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
            </div>
            <h3 class="text-lg font-bold mb-2">Nexus Gateway</h3>
            <p class="text-xs text-slate-500 mb-4">Enter Restricted Access Password</p>
            <input type="password" id="nexus-pw" class="w-full border p-2 rounded mb-4 outline-none focus:ring-2 focus:ring-blue-500 text-center">
            <div class="flex space-x-2">
                <button onclick="closeModal()" class="flex-1 text-xs text-slate-500">Cancel</button>
                <button onclick="verifyNexus()" class="flex-1 bg-blue-600 text-white py-2 rounded text-xs font-bold">Access</button>
            </div>
            <p id="pw-error" class="text-red-500 text-[10px] mt-2 hidden">Invalid Password</p>
        </div>
    </div>

    <header class="rcs-dark text-white p-6 mb-8 shadow-xl">
        <div class="max-w-7xl mx-auto flex flex-col lg:flex-row justify-between items-center gap-6">
            <div class="flex items-center space-x-6">
                <img src="https://i.postimg.cc/Gh8VdV9r/Untitled-Photoroom.png" alt="RCS Logo" class="h-12 w-auto" onerror="this.src='https://via.placeholder.com/100x40?text=RCS+LOGO'">
                <div class="border-l border-slate-700 pl-6">
                    <h1 class="text-xl font-bold tracking-tight uppercase">Royal Classification Society</h1>
                    <p id="current-date" class="text-slate-400 text-xs italic"></p>
                </div>
            </div>

            <div class="w-full lg:max-w-md">
                <form action="https://www.google.com/search" method="GET" target="_blank" class="relative">
                    <input type="text" name="q" placeholder="Search Google..." class="search-input w-full py-2.5 pl-10 pr-4 rounded-full text-sm text-white">
                    <div class="absolute left-3 top-3 text-slate-400">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                    </div>
                </form>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 bg-slate-800/40 p-3 rounded-xl border border-slate-700/50">
                <div class="text-center px-2"><p class="clock-label">Dubai</p><p id="clock-dubai" class="clock-time text-emerald-400 text-sm"></p></div>
                <div class="text-center px-2 border-l border-slate-700"><p class="clock-label">Iran</p><p id="clock-iran" class="clock-time text-emerald-400 text-sm"></p></div>
                <div class="text-center px-2 border-l border-slate-700"><p class="clock-label">China</p><p id="clock-china" class="clock-time text-emerald-400 text-sm"></p></div>
                <div class="text-center px-2 border-l border-slate-700"><p class="clock-label">UTC</p><p id="clock-utc" class="clock-time text-blue-400 text-sm"></p></div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-4 gap-8">
        
        <div class="lg:col-span-1">
            <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm sticky top-6">
                <div class="flex items-center space-x-2 mb-6 border-b pb-2">
                    <div class="text-orange-500">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 11 18-5v12L3 14v-3z"/><path d="M11.6 16.8a3 3 0 1 1-5.8-1.6"/></svg>
                    </div>
                    <h2 class="text-sm font-bold text-slate-800 uppercase tracking-widest">Live Board</h2>
                </div>
                <div class="mb-6">
                    <textarea id="announcement-input" placeholder="Update the team..." class="w-full text-xs border rounded-lg p-2 outline-none focus:ring-1 focus:ring-blue-500 bg-slate-50" rows="3"></textarea>
                    <button id="post-btn" onclick="postToSheet()" class="w-full mt-2 bg-blue-600 text-white text-[10px] py-1.5 rounded-lg font-bold hover:bg-blue-700 transition">POST UPDATE</button>
                </div>
                <div id="announcement-list" class="space-y-4 max-h-[500px] overflow-y-auto pr-1">
                    <p class="text-center text-xs text-slate-400 italic">Syncing live feed...</p>
                </div>
            </div>
        </div>

        <div class="lg:col-span-3 space-y-10">
            
            <div>
                <h2 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg> Maritime Operations
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
                    <button onclick="openNexus()" class="glass-card p-5 rounded-xl flex items-center space-x-4 w-full text-left">
                        <div class="bg-blue-600 p-3 rounded-lg text-white">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="16" x="4" y="4" rx="2"/><rect width="6" height="6" x="9" y="9"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">RCS NEXUS</h3><p class="text-xs text-slate-400 italic">Internal Access</p></div>
                    </button>
                    <a href="https://posiden-project.streamlit.app/" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-red-50 p-3 rounded-lg text-red-600">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">POSEIDON</h3><p class="text-xs text-slate-500">Sanction Check</p></div>
                    </a>
                    <a href="https://maritime.ihs.com/Account2/Index" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-cyan-50 p-3 rounded-lg text-cyan-700">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">IHS Sea Web</h3><p class="text-xs text-slate-500">Maritime Portal</p></div>
                    </a>
                    <a href="https://www.vesselfinder.com/" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-indigo-50 p-3 rounded-lg text-indigo-600">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">Vessel Finder</h3><p class="text-xs text-slate-500">AIS Tracking</p></div>
                    </a>
                    <a href="https://vessel-classification-calc-dgcwm2ek2pfscvdkds4kea.streamlit.app/" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-emerald-50 p-3 rounded-lg text-emerald-600">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="8" x2="16" y1="10" y2="10"/><line x1="8" x2="16" y1="14" y2="14"/><line x1="8" x2="16" y1="18" y2="18"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">Fee Calculator</h3><p class="text-xs text-slate-500">Classification</p></div>
                    </a>
                </div>
            </div>

            <div>
                <h2 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg> Communication & Tech
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <a href="https://mail.google.com/" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-red-50 p-3 rounded-lg text-red-600">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">Gmail</h3><p class="text-xs text-slate-500">Professional</p></div>
                    </a>
                    <a href="https://web.whatsapp.com/" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-green-50 p-3 rounded-lg text-green-600">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">WhatsApp</h3><p class="text-xs text-slate-500">Instant Access</p></div>
                    </a>
                    <a href="https://github.com/" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-slate-800 p-3 rounded-lg text-white">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">GitHub</h3><p class="text-xs text-slate-500">Development</p></div>
                    </a>
                </div>
            </div>

            <div>
                <h2 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="8" x="2" y="2" rx="2" ry="2"/><rect width="20" height="8" x="2" y="14" rx="2" ry="2"/><line x1="6" x2="6.01" y1="6" y2="6"/><line x1="6" x2="6.01" y1="18" y2="18"/></svg> Infrastructure
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <a href="https://drive.google.com" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-yellow-50 p-3 rounded-lg text-yellow-600">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">Google Drive</h3><p class="text-xs text-slate-500">File Storage</p></div>
                    </a>
                    <a href="https://os5.mycloud.com/" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4">
                        <div class="bg-slate-100 p-3 rounded-lg text-slate-700">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19a3.5 3.5 0 0 0 0-7h-1.5a7 7 0 1 0-11.7 6.9"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">MyCloud</h3><p class="text-xs text-slate-500">WD OS5</p></div>
                    </a>
                    <a href="https://rcsclass.org" target="_blank" class="glass-card p-5 rounded-xl flex items-center space-x-4 border-2 border-slate-200">
                        <div class="bg-slate-800 p-3 rounded-lg text-white">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                        </div>
                        <div><h3 class="font-bold text-sm">RCS Website</h3><p class="text-xs text-slate-400">Official Portal</p></div>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script>
        const SHEET_URL = "https://script.google.com/macros/s/AKfycbwD3HO8OjSwQvedgToVJYWXKtGCGYTsOSWGGoOjXV5waGAcKJDjCNsCXqhZYLJCICeU9g/exec";

        async function loadAnnouncements() {
            try {
                const response = await fetch(SHEET_URL);
                const data = await response.json();
                const list = document.getElementById('announcement-list');
                if(data.length === 0) {
                    list.innerHTML = `<p class="text-center text-xs text-slate-400">No updates.</p>`;
                    return;
                }
                list.innerHTML = data.map(post => `
                    <div class="p-3 bg-slate-50 rounded-lg border-l-4 border-blue-500 shadow-sm">
                        <p class="text-[9px] font-bold text-blue-600 uppercase mb-1">${post[0]}</p>
                        <p class="text-xs text-slate-700 font-medium">${post[1]}</p>
                    </div>
                `).join('');
            } catch (e) { 
                console.log("Sheet error"); 
                document.getElementById('announcement-list').innerHTML = `<p class="text-center text-xs text-red-400">Sync Error</p>`;
            }
        }

        async function postToSheet() {
            const input = document.getElementById('announcement-input');
            const btn = document.getElementById('post-btn');
            if (!input.value.trim()) return;
            btn.innerText = "...";
            btn.disabled = true;
            try {
                await fetch(SHEET_URL, { method: "POST", mode: "no-cors", body: JSON.stringify({ message: input.value }) });
                input.value = "";
                setTimeout(loadAnnouncements, 2000);
            } catch (e) { alert("Error"); } finally {
                btn.innerText = "POST UPDATE";
                btn.disabled = false;
            }
        }

        function openNexus() { document.getElementById('nexus-modal').style.display = 'flex'; }
        function closeModal() { 
            document.getElementById('nexus-modal').style.display = 'none'; 
            document.getElementById('nexus-pw').value = "";
            document.getElementById('pw-error').classList.add('hidden');
        }
        function verifyNexus() {
            if (document.getElementById('nexus-pw').value === "RCS2026@") {
                window.open("https://rcsclass.digital", "_blank");
                closeModal();
            } else { document.getElementById('pw-error').classList.remove('hidden'); }
        }

        function updateClocks() {
            const now = new Date();
            const timeOptions = (tz) => ({ timeZone: tz, hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false });
            document.getElementById('current-date').innerText = now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            document.getElementById('clock-dubai').innerText = now.toLocaleTimeString('en-GB', timeOptions('Asia/Dubai'));
            document.getElementById('clock-iran').innerText = now.toLocaleTimeString('en-GB', timeOptions('Asia/Tehran'));
            document.getElementById('clock-china').innerText = now.toLocaleTimeString('en-GB', timeOptions('Asia/Shanghai'));
            document.getElementById('clock-utc').innerText = now.toLocaleTimeString('en-GB', { ...timeOptions('UTC') });
        }

        // Start everything
        updateClocks();
        loadAnnouncements();
        setInterval(updateClocks, 1000);
        setInterval(loadAnnouncements, 60000);

        document.getElementById('nexus-pw').addEventListener("keypress", (e) => {
            if (e.key === "Enter") verifyNexus();
        });
    </script>
</body>
</html>
